<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>index.utf8</title>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="section-header">




</div>


<div id="section-prostate-cancer-treatment-options" class="section level1">
<h1><img src="images/askmusic_logo.jpg" style="width:10.0%" /> Prostate Cancer Treatment Options</h1>
<div id="section-this-app-is-designed-to-provide-men-diagnosed-with-prostate-cancer-information-about-the-treatment-decisions-made-by-other-men-from-across-the-state-of-michigan-who-share-similar-characteristics." class="section level4">
<h4>This app is designed to provide men diagnosed with prostate cancer information about the treatment decisions made by other men from across the state of Michigan who share similar characteristics.</h4>
<script src='https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.6.1/iframeResizer.contentWindow.min.js'></script>
<script>
Shiny.addCustomMessageHandler("scrolltoresults", function(targetid) {
  $('html, body').animate({
      scrollTop: $("#"+targetid).offset().top - 75
  }, 1000);
});
</script>
<style>
* {
 font-family: Roboto, sans-serif !important;
}
</style>
<div class="well" style="background: #FFF;">
<h4>This tool does not apply to situations where the cancer is metastatic.</h4>
<div class="shiny-flow-layout">
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_clinmstg">Is the cancer metastatic?</label>
<div>
<select id="tx_clinmstg"><option value="Yes">Yes</option>
<option value="No" selected>No</option></select>
<script type="application/json" data-for="tx_clinmstg" data-nonempty="">{}</script>
</div>
</div>
</div>
</div>
<h4>Please enter the following information.</h4>
<div class="shiny-flow-layout">
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_age">Age</label>
<input id="tx_age" type="number" class="form-control" value="66" min="45" max="85" step="1"/>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_psa">PSA (ng/mL)</label>
<input id="tx_psa" type="number" class="form-control" value="6" min="0" step="1"/>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_bxgs_1">Primary Gleason score</label>
<div>
<select id="tx_bxgs_1"><option value="3" selected>Less than or equal to 3</option>
<option value="4">4</option>
<option value="5">5</option></select>
<script type="application/json" data-for="tx_bxgs_1" data-nonempty="">{}</script>
</div>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_bxgs_2">Secondary Gleason score</label>
<div>
<select id="tx_bxgs_2"><option value="3" selected>Less than or equal to 3</option>
<option value="4">4</option>
<option value="5">5</option></select>
<script type="application/json" data-for="tx_bxgs_2" data-nonempty="">{}</script>
</div>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_mi">Have you ever had a heart attack?</label>
<div>
<select id="tx_mi"><option value="Yes">Yes</option>
<option value="No" selected>No</option></select>
<script type="application/json" data-for="tx_mi" data-nonempty="">{}</script>
</div>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_diab">Do you have diabetes?</label>
<div>
<select id="tx_diab"><option value="Yes">Yes</option>
<option value="No" selected>No</option></select>
<script type="application/json" data-for="tx_diab" data-nonempty="">{}</script>
</div>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_wgt">Weight (lbs)</label>
<input id="tx_wgt" type="number" class="form-control" value="198" min="100" max="350" step="10"/>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_poscores">Biopsy cores with cancer</label>
<input class="js-range-slider" id="tx_poscores" data-min="1" data-max="14" data-from="3" data-step="1" data-grid="true" data-grid-num="6.5" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
</div>
</div>
<div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_totcores">Total cores taken</label>
<input class="js-range-slider" id="tx_totcores" data-min="1" data-max="24" data-from="12" data-step="1" data-grid="true" data-grid-num="7.66666666666667" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
</div>
</div>
</div>
<h4>The following questions are optional, but completing all of them will help us give you recommendations for appropriate treatments recommended by national guidelines.</h4>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_t">What is the clinical T-stage for your prostate cancer? (T-stage helps describe whether the cancer involves areas surrounding the prostate)</label>
<div>
<select id="tx_t"><option value="Do not know" selected>Do not know</option>
<option value="T1">T1</option>
<option value="T2a">T2a</option>
<option value="T2b">T2b</option>
<option value="T2c">T2c</option>
<option value="T3a">T3a</option>
<option value="T3b">T3b</option>
<option value="T4">T4</option></select>
<script type="application/json" data-for="tx_t" data-nonempty="">{}</script>
</div>
</div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_n">What is the clinical N-stage for your prostate cancer? (N-stage describes whether the cancer involves the lymph nodes)</label>
<div>
<select id="tx_n"><option value="Do not know" selected>Do not know</option>
<option value="N0">N0</option>
<option value="N1">N1</option></select>
<script type="application/json" data-for="tx_n" data-nonempty="">{}</script>
</div>
</div>
<div class="form-group shiny-input-container">
<label class="control-label" for="tx_corestats">Did your prostate biopsy have any cores with more than 50% cancer?</label>
<div>
<select id="tx_corestats"><option value="Do not know" selected>Do not know</option>
<option value="Yes">Yes</option>
<option value="No">No</option></select>
<script type="application/json" data-for="tx_corestats" data-nonempty="">{}</script>
</div>
</div>
<br/>
<button id="tx_start" type="button" class="btn btn-default action-button">Calculate</button>
</div>
<p><div data-display-if="input.tx_start&gt;0 &amp;&amp; (input.tx_t == &quot;Do not know&quot; || input.tx_n == &quot;Do not know&quot; || input.tx_corestats == &quot;Do not know&quot;)" data-ns-prefix="">
<div class="well">
<h3>All of the optional questions must be answered for us to share the treatment options recommended by the National Comprehensive Cancer Network.</h3>
</div>
</div><div data-display-if="input.tx_start&gt;0 &amp;&amp; (input.tx_t != &quot;Do not know&quot; &amp;&amp; input.tx_n != &quot;Do not know&quot; &amp;&amp; input.tx_corestats != &quot;Do not know&quot;)" data-ns-prefix="">
<div class="well">
<h1>
<div id="risk_label" class="shiny-text-output"></div>
</h1>
<h5>According to the National Comprehensive Cancer Network, appropriate treatment options include: </h5>
<h5>
<div id="rec" class="shiny-html-output"></div>
</h5>
<h5>
<div id="ascore" class="shiny-html-output"></div>
</h5>
</div>
</div><div data-display-if="input.tx_start&gt;0 &amp;&amp; (input.tx_wgt&lt;100 || input.tx_wgt&gt;350)" data-ns-prefix="">
<div class="well">
<h3>Weight must be between 100 and 350 pounds.</h3>
</div>
</div><div data-display-if="input.tx_start&gt;0 &amp;&amp; input.tx_poscores&gt;input.tx_totcores" data-ns-prefix="">
<div class="well">
<h3>The number of positive cores cannot be greater than the number of total cores.</h3>
</div>
</div><div data-display-if="input.tx_start&gt;0 &amp;&amp; input.tx_clinmstg==&quot;Yes&quot;" data-ns-prefix="">
<div class="well">
<h3>For metastatic disease, please discuss treatment options with your urologist.</h3>
</div>
</div><div data-display-if="input.tx_start&gt;0 &amp;&amp; input.tx_psa &lt;= 0.05" data-ns-prefix="">
<div class="well">
<h3>Prostate specific antigen (PSA) must be greater than 0.05 ng/mL.</h3>
</div>
</div><div data-display-if="input.tx_start&gt;0 &amp;&amp; (input.tx_age &lt; 45 || input.tx_age &gt; 85)" data-ns-prefix="">
<div class="well">
<h3>Age must be between 45 and 85 years old.</h3>
</div>
</div><div data-display-if="input.tx_start&gt;0 &amp;&amp; input.tx_psa &gt; 0.05 &amp;&amp; input.tx_age &gt;=45 &amp;&amp; input.tx_age &lt;= 85 &amp;&amp; input.tx_clinmstg==&quot;No&quot; &amp;&amp; input.tx_wgt&gt;=100 &amp;&amp; input.tx_wgt&lt;=350 &amp;&amp; !(input.tx_poscores&gt;input.tx_totcores)" data-ns-prefix="">
<div class="well" id="tx_results" style="background: #FFF;">
<h3>What treatment did similar patients choose in the MUSIC registry?</h3>
<h5>
<div id="anomaly_msg" class="shiny-html-output"></div>
</h5>
<div id="tx_graph_risk" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
</div>
</div></p>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(echo = FALSE)
library(tibble)
library(dplyr)
library(tidyr)
library(ggplot2)
library(stringr)
library(shiny)
library(jsonlite)
library(RColorBrewer)
library(h2o)

# x must be 0-100
round_to_largest_remainder = function (x) {
  stopifnot(x >= 0 & x <= 100 & dplyr::near(sum(x),100))

  trunc_decimal = function (x) {x - trunc(x)}
  
    lr_data = tibble(
    original = x,
    integer_vals = trunc(x),
    decimal_vals = trunc_decimal(x)
  ) %>% 
    mutate(row_num = row_number()) %>% 
    arrange(desc(original)) %>% 
    mutate(decimal_rank = row_number(desc(decimal_vals)))
  
  while (sum(lr_data$integer_vals) < 100)
  {
    lr_data = lr_data %>% 
      mutate(integer_vals = case_when(
        decimal_rank == min(decimal_rank)~integer_vals+1,
        TRUE~integer_vals
      )) %>% 
      mutate(decimal_rank = case_when(
        decimal_rank == min(decimal_rank)~decimal_rank+n(),
        TRUE~decimal_rank
      )) %>% 
      arrange(row_num)
  }
  
  lr_data$integer_vals
}
</script>
 
<script type="application/shiny-prerendered" data-context="server">


  observeEvent(input$tx_start, {
    session$sendCustomMessage('scrolltoresults', 'tx_results')
  })

# OLD PREDICTION MODEL
# tx_model_predictions = reactive({
#   pred_data = tibble(age = input$tx_age,
#                      psa = input$tx_psa,
#                      bxgs1 = as.integer(input$tx_bxgs_1),
#                      bxgs2 = as.integer(input$tx_bxgs_2),
#                      bxgs = as.integer(input$tx_bxgs_1) + as.integer(input$tx_bxgs_2),
#                      totcores = as.integer(input$tx_totcores),
#                      poscores = as.integer(input$tx_poscores),
#                      wgt = input$tx_wgt,
#                      mi = factor(input$tx_mi,levels=c('No','Yes')),
#                      diab = factor(input$tx_diab,levels=c('No','Yes'))
#                      )
#   
#   # predictions = predict(trained_model,newdata = pred_data)
#   # predictions$data
#   
#   # predictions = h2o.predict(tx_model,newdata = as.h2o(pred_data)) %>% as.data.frame()
#   # '[{"age":66,"psa":6,"bxgs":7,"totcores":12,"poscores":3,"wgt":198,"mi":"No","diab":"No"}]') %>%
#   predictions = 
#     h2o.predict_json('tx_model_nomets_pub.zip', pred_data %>% as.tibble() %>% jsonlite::toJSON()) %>% 
#     pull(classProbabilities) %>% unlist() %>%
#     setNames(c('Active_surveillance','Androgen_deprivation_therapy','Radiation','Radical_prostatectomy','Watchful_waiting')) %>% 
#     bind_rows()
#   predictions
# })

###BASED ON LYNA'S PSEUDO-CODE:
#
# This function returns user's anomaly score (hence as)
anomaly_score <- reactive({
  age_rc = as.integer(input$tx_age)
  psa = as.integer(input$tx_psa)
  bxgs1 = as.integer(input$tx_bxgs_1)
  bxgs2 = as.integer(input$tx_bxgs_2)
  bxgs = bxgs1 + bxgs2
  totcores = as.integer(input$tx_totcores)
  poscores = as.integer(input$tx_poscores)
  wgt = as.integer(input$tx_wgt)
  mi = input$tx_mi
  diab = input$tx_diab
 
  # create data frame based on user input
  x <- data.frame(age_rc,
                 psa,
                 bxgs,
                 bxgs1,
                 bxgs2,
                 totcores,
                 poscores,
                 wgt,
                 mi,
                 diab)
  
  
  # call h2o function using data frame we just created + isolation forest model
  pred_isof <- h2o.mojo_predict_df(frame=x, 
                                     mojo_zip_path='RFM_Anomaly_Detection/DRF_model_R_1598476777072_149.zip',
                                     genmodel_jar_path='RFM_Anomaly_Detection/h2o-genmodel.jar',
                                     verbose = F)
  anom_score = as.vector(pred_isof$predict)
  anom_score
})

# This function checks for anonomally score, if its above certain threshold, we don't run the model
tx_model_predictions = reactive({
  age_rc = as.integer(input$tx_age)
  psa = as.integer(input$tx_psa)
  bxgs1 = as.integer(input$tx_bxgs_1)
  bxgs2 = as.integer(input$tx_bxgs_2)
  bxgs = bxgs1 + bxgs2
  totcores = as.integer(input$tx_totcores)
  poscores = as.integer(input$tx_poscores)
  wgt = as.integer(input$tx_wgt)
  mi = input$tx_mi
  diab = input$tx_diab
  
  # create data frame
  x <- data.frame(age_rc,
             psa,
             bxgs,
             bxgs1,
             bxgs2,
             totcores,
             poscores,
             wgt,
             mi,
             diab)
  
    # call h2o function
    pred_rf <- h2o.mojo_predict_df(frame=x, 
                                   mojo_zip_path='RFM_tx_prediction/DRF_model_R_1597414894646_541.zip',
                                   genmodel_jar_path='RFM_tx_prediction/h2o-genmodel.jar',
                                   verbose = F)
    pred_rf
})

tx_graph_risk = reactive({
  tx_model_predictions() %>%
    gather(treatment,probability,Active_surveillance:Watchful_waiting) %>%
    mutate(treatment = str_replace_all(treatment,'_','\n')) %>%
    mutate(mid_y = 0.5*probability) %>%
    ggplot(aes(x=reorder(treatment,probability),y=probability,fill=treatment)) +
    geom_bar(stat='identity') +
    guides(fill = guide_legend(reverse=TRUE)) +
    theme_minimal() +
    theme(#legend.position='bottom',
          #legend.text=element_text(size = rel(1)),
          legend.position='none',
          axis.text.x=element_blank(),
          axis.text.y=element_text(size=rel(1.5)),
          panel.grid.major.x=element_blank(),
          panel.grid.minor.x=element_blank()) +
    geom_text(aes(label=paste0(round_to_largest_remainder(probability*100),'%'),y=mid_y),size=6) +
    coord_flip(ylim=c(0,1)) +
    labs(fill='',x='',y='')
})

observe({
  score = anomaly_score()
  print(score)
  if (score > 0.66) {
    output$anomaly_msg <- renderText({
      paste("Based on the information you entered, we do not have a sufficient number of patients with similar characteristics to be able to share accurate information. Please talk to your urologist about your treatment options.")
    })
    output$tx_graph_risk = renderPlot(0)
  } else {
    output$anomaly_msg <- renderText({})
    output$tx_graph_risk = renderPlot(tx_graph_risk())
  }
})

gg = ''
ggfind = reactive({
  b1 = as.integer(input$tx_bxgs_1)
  b2 = as.integer(input$tx_bxgs_2)
  if ((b1 + b2) == 6) {
    gg = 'GG1'
  } else if (b1 == 3 & b2 == 4) {
    gg = 'GG2'
  } else if (b1 == 4 & b2 == 3) {
    gg = 'GG3'
  } else if ((b1 + b2) == 8) {
    gg = 'GG4'
  } else if ((b1 + b2) >= 9){
    gg = 'GG5'
  }
  gg
})

# LOW RISK
low_risk = reactive({
  if ((input$tx_t == 'T1' | input$tx_t == 'T2a') &
      ggfind() == 'GG1' &
      input$tx_psa < 10) {
    return(TRUE)
  }
  return(FALSE)
})

# FAVORABLE RISK
favorable_risk = reactive({
  gg_val = ggfind()
  if (gg_val == 'GG1' & !low_risk()) {
    return(TRUE)
  }
  
  if (gg_val == 'GG2') {
    if ((input$tx_poscores <= 3) & input$tx_corestats == 'No') {
      return(TRUE)
    }
  }
  return(FALSE)
})

# UNFAVORABLE INTERMEDIATE RISK
unfavorable_int_risk = reactive({
  gg_val = ggfind()
  psa = input$tx_psa
  counter = 0
  
  if(input$tx_t == 'T2b' | input$tx_t == 'T2c') {
    counter = counter + 1
  }
  
  if (gg_val == 'GG2' | gg_val == 'GG3') {
    counter = counter + 1
  }
  
  if (psa >= 10 & psa <= 20) {
    counter = counter + 1
  }
  
  if (gg_val == 'GG3' & input$tx_corestats == 'Yes') {
    counter = counter + 1
  }
  
  if (counter >= 2) {
    return(TRUE)
  } else {
    return(FALSE)
  }
})

# HIGH RISK
high_risk = reactive({
  gg_val = ggfind()
  t_val = input$tx_t
  
  if (t_val == 'T3a') {
    return(TRUE)
  } else if (gg_val == 'GG4' | gg_val == 'GG5') {
    return(TRUE)
  } else if (input$tx_psa > 20) {
    return(TRUE)
  }
  
  return(FALSE)
})

# VERY HIGH RISK
very_high_risk = reactive({
  gg_val = ggfind()
  b1 = as.integer(input$tx_bxgs_1)
  
  if (input$tx_t == 'T3b' | input$tx_t == 'T4') {
    return(TRUE)
  } else if (b1 == 5) {
    return(TRUE)
  }
  
  return(FALSE)
})

op = ''
risk_group = reactive({
  
  if (very_high_risk()) {
    op = 'Very High Risk'
  } else if (high_risk()) {
    op = 'High Risk'
  } else if (unfavorable_int_risk()) {
    op = 'Unfavorable Intermediate Risk'
  } else if (favorable_risk()) {
    op = 'Favorable Risk'
  } else if (low_risk()) {
    op = 'Low Risk'
  } else {
    stop('No Match!')
  }
  
  op
})

# RECOMMENDATIONS
t_low_risk = 'If your life expectancy is >10 years: Active Surveillance (preferred), EBRT or brachytherapy, RP <br> If your life expentancy is <10 years: Watchful Waiting'

t_fav_risk = 'If your life expectancy is >10 years: Consider Active Surveillance <br> If your life expectancy is <10 years: Watchful Waiting'

t_unfav_int_risk = 'If your life expectancy is >10 years: Radical prostatectomy, EBRT, EBRT with 4 months of ADT, EBRT with brachytherapy, EBRT with brachytherapy and 4 months of ADT <br> If your life expectancy is <10 years: Watchful Waiting (preferred), EBRT +/- ADT, EBRt + brachytherapy, EBRT + brachytherapy + ADT'

t_high_risk ='If your life expectancy is >5 years: EBRT with 18 months - 3 years of ADT, EBRT with brachytherapy and 1-3 years of ADT, radical prostatectomy <br> If your life expectancy is <5 years: Watchful Waiting, ADT, EBRT'

t_very_high_risk = 'If your life expectancy is <5 years: Watchful Waiting, ADT, EBRT <br> If your life expectancy is >5 years: EBRT + ADT, EBRT + brachytherapy + ADT, radical prostatectomy'

output$risk_label <- renderText({
  paste("According to the National Comprehensive Cancer Center, your cancer is categorized as: ", risk_group())
})

output$rec <- renderUI({
  switch(
    risk_group(),
    'Very High Risk'=HTML(t_very_high_risk),
    'High Risk'=HTML(t_high_risk),
    'Unfavorable Intermediate Risk'=HTML(t_unfav_int_risk),
    'Favorable Risk'=HTML(t_fav_risk),
    'Low Risk'=HTML(t_low_risk)
  )
})

</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/bootstrap.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.11.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/selectize"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"character","attributes":{},"value":["<!--[if lt IE 9]>\n<script src=\"shared/selectize/js/es5-shim.min.js\"><\/script>\n<![endif]-->\n<script src=\"shared/selectize/js/selectize.min.js\"><\/script>"]},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider"]},{"type":"character","attributes":{},"value":["2.1.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css","css/ion.rangeSlider.skinShiny.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54]}},"value":[{"type":"character","attributes":{},"value":["base","bitops","colorspace","compiler","crayon","datasets","digest","dplyr","ellipsis","evaluate","fastmap","generics","ggplot2","glue","graphics","grDevices","grid","gtable","h2o","htmltools","httpuv","jsonlite","knitr","later","lifecycle","magrittr","methods","mime","munsell","pillar","pkgconfig","promises","purrr","R6","RColorBrewer","Rcpp","RCurl","rlang","rmarkdown","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tools","utils","vctrs","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["3.6.0","1.0-6","1.4-1","3.6.0","1.3.4","3.6.0","0.6.25","1.0.2","0.3.1","0.14","1.0.1","0.0.2","3.3.1","1.4.1","3.6.0","3.6.0","3.6.0","0.3.0","3.30.1.1","0.4.0","1.5.4","1.6.1","1.28","1.1.0.1","0.2.0","1.5","3.6.0","0.9","0.5.0","1.4.4","2.0.3","1.1.1","0.3.4","2.4.1","1.1-2","1.0.4.6","1.98-1.2","0.4.7","2.3","1.1.1","1.4.0.2","3.6.0","1.4.6","1.4.0","3.0.1","1.1.0","1.1.0","3.6.0","3.6.0","0.3.2","2.2.0","0.14","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
